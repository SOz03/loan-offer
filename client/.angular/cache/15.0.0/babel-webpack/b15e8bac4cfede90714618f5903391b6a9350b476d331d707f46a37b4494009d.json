{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from \"@angular/core\";\nlet LoginComponent = class LoginComponent {\n  constructor(route, router, http) {\n    this.route = route;\n    this.router = router;\n    this.http = http;\n    this.model = {};\n  }\n  ngOnInit() {\n    sessionStorage.setItem('token', '');\n  }\n  login() {\n    let url = 'http://localhost:8080/auth/login';\n    this.http.post(url, {\n      userName: this.model.username,\n      password: this.model.password\n    }).subscribe(isValid => {\n      if (isValid) {\n        sessionStorage.setItem('token', btoa(this.model.username + ':' + this.model.password));\n        this.router.navigate(['']);\n      } else {\n        alert(\"Authentication failed.\");\n      }\n    });\n  }\n};\nLoginComponent = __decorate([Component({\n  selector: 'login',\n  templateUrl: './app/auth/login/login.component.html'\n})], LoginComponent);\nexport { LoginComponent };","map":{"version":3,"mappings":";AAAA,SAAQA,SAAS,QAAe,eAAe;AAUxC,IAAMC,cAAc,GAApB,MAAMA,cAAc;EAIzBC,YACUC,KAAqB,EACrBC,MAAc,EACdC,IAAgB;IAFhB,UAAK,GAALF,KAAK;IACL,WAAM,GAANC,MAAM;IACN,SAAI,GAAJC,IAAI;IANd,UAAK,GAAQ,EAAE;EAQf;EAEAC,QAAQ;IACNC,cAAc,CAACC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC;EACrC;EAEAC,KAAK;IACH,IAAIC,GAAG,GAAG,kCAAkC;IAC5C,IAAI,CAACL,IAAI,CAACM,IAAI,CAAsBD,GAAG,EAAE;MACvCE,QAAQ,EAAE,IAAI,CAACC,KAAK,CAACC,QAAQ;MAC7BC,QAAQ,EAAE,IAAI,CAACF,KAAK,CAACE;KACtB,CAAC,CAACC,SAAS,CAAEC,OAAY,IAAI;MAC5B,IAAIA,OAAO,EAAE;QACXV,cAAc,CAACC,OAAO,CACpB,OAAO,EACPU,IAAI,CAAC,IAAI,CAACL,KAAK,CAACC,QAAQ,GAAG,GAAG,GAAG,IAAI,CAACD,KAAK,CAACE,QAAQ,CAAC,CACtD;QACD,IAAI,CAACX,MAAM,CAACe,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;OAC3B,MAAM;QACLC,KAAK,CAAC,wBAAwB,CAAC;;IAEnC,CAAC,CAAC;EACJ;CACD;AAhCYnB,cAAc,eAL1BD,SAAS,CAAC;EACTqB,QAAQ,EAAE,OAAO;EACjBC,WAAW,EAAE;CACd,CAAC,GAEWrB,cAAc,CAgC1B;SAhCYA,cAAc","names":["Component","LoginComponent","constructor","route","router","http","ngOnInit","sessionStorage","setItem","login","url","post","userName","model","username","password","subscribe","isValid","btoa","navigate","alert","selector","templateUrl"],"sourceRoot":"","sources":["C:\\Users\\Albion\\Desktop\\Magistratura\\third\\development-technology\\loan-offer\\client\\src\\app\\auth\\login\\login.component.ts"],"sourcesContent":["import {Component, OnInit} from \"@angular/core\";\r\nimport {ActivatedRoute, Router} from \"@angular/router\";\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {Observable} from \"rxjs\";\r\n\r\n@Component({\r\n  selector: 'login',\r\n  templateUrl: './app/auth/login/login.component.html'\r\n})\r\n\r\nexport class LoginComponent implements OnInit {\r\n  model: any = {};\r\n  loading: any;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private http: HttpClient\r\n  ) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    sessionStorage.setItem('token', '');\r\n  }\r\n\r\n  login() {\r\n    let url = 'http://localhost:8080/auth/login';\r\n    this.http.post<Observable<boolean>>(url, {\r\n      userName: this.model.username,\r\n      password: this.model.password\r\n    }).subscribe((isValid: any) => {\r\n      if (isValid) {\r\n        sessionStorage.setItem(\r\n          'token',\r\n          btoa(this.model.username + ':' + this.model.password)\r\n        );\r\n        this.router.navigate(['']);\r\n      } else {\r\n        alert(\"Authentication failed.\")\r\n      }\r\n    });\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}