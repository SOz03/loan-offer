{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { environment } from '../enviroments/environment';\nlet AppComponent = class AppComponent {\n  constructor(tokenStorageService) {\n    this.tokenStorageService = tokenStorageService;\n    this.role = '';\n    this.authenticated = false;\n    this.editAccess = false;\n    window[\"apiUrl\"] = environment.production ? \"\" : \"http://localhost:8080\";\n  }\n  ngOnInit() {\n    this.authenticated = !!this.tokenStorageService.getToken();\n    if (this.authenticated) {\n      const user = this.tokenStorageService.getUser();\n      this.role = user.role;\n      this.login = user.login;\n      this.editAccess = this.role == 'ADMIN';\n    }\n  }\n  logout() {\n    this.tokenStorageService.signOut();\n    if (environment.production) {\n      window.location.href = \"/bank\";\n    } else {\n      window.location.reload();\n    }\n  }\n};\nAppComponent = __decorate([Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})], AppComponent);\nexport { AppComponent };","map":{"version":3,"mappings":";AAAA,SAAQA,SAAS,QAAO,eAAe;AACvC,SAAQC,WAAW,QAAO,4BAA4B;AAQ/C,IAAMC,YAAY,GAAlB,MAAMA,YAAY;EAOvBC,YAAoBC,mBAAwC;IAAxC,wBAAmB,GAAnBA,mBAAmB;IAN/B,SAAI,GAAW,EAAE;IAEzB,kBAAa,GAAG,KAAK;IACrB,eAAU,GAAG,KAAK;IAIhBC,MAAM,CAAC,QAAQ,CAAC,GAAGJ,WAAW,CAACK,UAAU,GAAG,EAAE,GAAG,uBAAuB;EAC1E;EAEAC,QAAQ;IACN,IAAI,CAACC,aAAa,GAAG,CAAC,CAAC,IAAI,CAACJ,mBAAmB,CAACK,QAAQ,EAAE;IAE1D,IAAI,IAAI,CAACD,aAAa,EAAE;MACtB,MAAME,IAAI,GAAG,IAAI,CAACN,mBAAmB,CAACO,OAAO,EAAE;MAC/C,IAAI,CAACC,IAAI,GAAGF,IAAI,CAACE,IAAI;MACrB,IAAI,CAACC,KAAK,GAAGH,IAAI,CAACG,KAAK;MAEvB,IAAI,CAACC,UAAU,GAAG,IAAI,CAACF,IAAI,IAAI,OAAO;;EAE1C;EAEAG,MAAM;IACJ,IAAI,CAACX,mBAAmB,CAACY,OAAO,EAAE;IAElC,IAAIf,WAAW,CAACK,UAAU,EAAE;MAC1BD,MAAM,CAACY,QAAQ,CAACC,IAAI,GAAG,OAAO;KAC/B,MAAM;MACLb,MAAM,CAACY,QAAQ,CAACE,MAAM,EAAE;;EAE5B;CAED;AAjCYjB,YAAY,eALxBF,SAAS,CAAC;EACToB,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,sBAAsB;EACnCC,SAAS,EAAE,CAAC,qBAAqB;CAClC,CAAC,GACWpB,YAAY,CAiCxB;SAjCYA,YAAY","names":["Component","environment","AppComponent","constructor","tokenStorageService","window","production","ngOnInit","authenticated","getToken","user","getUser","role","login","editAccess","logout","signOut","location","href","reload","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\Albion\\Desktop\\Magistratura\\third\\development-technology\\loan-offer\\client\\src\\app\\app.component.ts"],"sourcesContent":["import {Component} from '@angular/core';\nimport {environment} from '../enviroments/environment';\nimport {TokenStorageService} from './service/token-storage.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  private role: string = '';\n\n  authenticated = false;\n  editAccess = false;\n  login?: string;\n\n  constructor(private tokenStorageService: TokenStorageService) {\n    window[\"apiUrl\"] = environment.production ? \"\" : \"http://localhost:8080\";\n  }\n\n  ngOnInit(): void {\n    this.authenticated = !!this.tokenStorageService.getToken();\n\n    if (this.authenticated) {\n      const user = this.tokenStorageService.getUser();\n      this.role = user.role;\n      this.login = user.login;\n\n      this.editAccess = this.role == 'ADMIN';\n    }\n  }\n\n  logout(): void {\n    this.tokenStorageService.signOut();\n\n    if (environment.production) {\n      window.location.href = \"/bank\"\n    } else {\n      window.location.reload();\n    }\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}